<!--
  Copyright 2024 Google LLC
  SPDX-License-Identifier: Apache-2.0
 -->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark light" />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>âœ¨</text></svg>"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Prompt API Playground</title>
    <script>
      if (!isSecureContext) location.protocol = "https:";
    </script>
    <script src="script.js" type="module"></script>
  </head>
  <body>
    <h1>âœ¨ Prompt API Playground</h1>
    <p>
      This is a demo of Chrome's
      <a href="https://developer.chrome.com/docs/ai/built-in"
        >built-in Prompt API</a
      >
      powered by Gemini Nano.
    </p>
    <div id="error-message"></div>
    <div id="prompt-area">
      <form>
        <label>
          Prompt
          <textarea id="prompt-input"></textarea>
        </label>
        <button type="submit" id="submit-button">Submit prompt</button>
        <button type="button" id="reset-button">Reset session</button>
        <div class="settings">
          <label for="session-top-k">Top-k</label>
          <input id="session-top-k" min="1" type="number" />
          <label for="session-temperature">Temperature</label>
          <input id="session-temperature" type="number" step="any" min="0" />
        </div>
      </form>
      <h2>Session stats</h2>
      <table>
        <thead>
          <tr>
            <th>Temperature</th>
            <th>Top-k</th>
            <th>Tokens so far</th>
            <th>Tokens left</th>
            <th>Total tokens</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td id="temperature">&nbsp;</td>
            <td id="top-k">&nbsp;</td>
            <td id="tokens-so-far">&nbsp;</td>
            <td id="tokens-left">&nbsp;</td>
            <td id="max-tokens">&nbsp;</td>
          </tr>
        </tbody>
      </table>
      <h2>Conversation</h2>
      <div id="response-area"></div>
      <details>
        <summary>Raw response</summary>
        <div></div>
      </details>
      <button id="copy-link-button">Copy link</button>
      <small
        >ðŸ’¡ If there's a problem with the response, select the problematic text
        with your mouse before clicking the button.</small
      >
      <div id="problematic-area">
        <h2>Problematic:</h2>
        <pre id="problem"></pre>
      </div>
    </div>
    <footer>
      Made by <a href="https://github.com/tomayac/">@tomayac</a>. Source code on
      <a href="https://github.com/tomayac/prompt-api-playground">GitHub</a>.
    </footer>
  </body>
</html>
